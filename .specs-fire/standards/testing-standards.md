# Testing Standards

## Overview

Testing focuses on reducer behavior, data model integrity, and agent loops. Rust tests should use the standard cargo test runner, with integration tests placed in crate test directories.

## Testing Framework

**Framework**: Rust built-in test framework
**Runner**: cargo test

## Test Types

| Type | Tool | Location | When to Use |
|------|------|----------|-------------|
| Unit | cargo test | `crates/*/src/` | Pure logic and helpers |
| Integration | cargo test | `crates/*/tests/` | Reducer/service integration |
| Example/Smoke | custom scripts | `examples/` | End-to-end sanity checks |

## Coverage Requirements

**Target**: 0%
**Enforcement**: Not enforced

**Critical paths that MUST have coverage:**
- Reducer invariants and validation logic
- Agent loop scheduling and time-based rules

## Test Naming

**Pattern**: `*_tests.rs`

**Examples**:
- `reducers_tests.rs` — reducer behavior
- `agents_tests.rs` — agent loop behavior

## Test Structure

```rust
#[test]
fn creates_default_state() {
    // arrange
    // act
    // assert
}
```

## Mock Strategy

**Approach**: Prefer trait-based abstractions and in-memory fixtures.

**Guidelines**:
- Mock only external boundaries
- Use real data structures for reducer logic

## Test Data

**Strategy**: Use small, explicit fixtures committed in repo.

**Guidelines**:
- Keep fixtures minimal and readable
- Avoid random data in deterministic tests

## Running Tests

```bash
# Run all tests
cargo test

# Run with coverage
cargo test

# Run specific test file
cargo test -p game_server --tests

# Run in watch mode
cargo test
```

## CI/CD Integration

CI/CD integration not configured.

---
*Generated by specs.md - fabriqa.ai FIRE Flow*
