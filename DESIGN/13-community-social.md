# 커뮤니티 및 소셜 시스템

## 소셜 기능
- 채팅 채널: 일반/지역/파티/길드/거래.
- 친구 목록: 상태 표시, 빠른 파티 초대.
- 소셜 피드: 길드 공지/이벤트 공지/시장 알림(옵트아웃 가능).
- 파티/레이드: 파티 4-5인, 레이드 12-16인(매칭은 파티 자동, 레이드는 수동 모집).

## 길드 시스템
- 역할: 길드장, 운영진, 일반.
- 권한: 공지, 창고, 프로젝트 승인.
- 길드 프로젝트: 공동 건설/수집 목표, 진행률/기여도 추적.
- 길드 버프: 특정 건물/프로젝트 완수 시 소셜 버프 제공.

## 플레이어 거버넌스
- 신고: 채팅/행동 신고, 자동 큐잉.
- 중재: 경고, 제한, 차단 단계.
- 권한 로그: 제재/복구/경고 조치 감사 로그 유지.
- 자동 필터: 스팸/욕설/반복 요청에 대한 레이트 리미팅.

## 클레임/엠파이어
- 클레임 멤버십 기반 접근과 역할 권한.
- 엠파이어 연합과 지역 분쟁 규칙.
- 권한 계층: Owner/CoOwner/Officer/Member + Build/Inventory/Usage 액션 레벨.
- 엠파이어 랭크: 권한 벡터 기반(공급/전투/승인/승격 등) 운영.
- 공성/영토 분쟁: 거리/보급/권한 검증 후 시작.

## 이벤트
- 커뮤니티 이벤트: 공동 건설, 수집 레이스.
- 보상: 장식, 칭호, 평판.
- 시즌형 이벤트: 주간/월간 목표 기반 누적 보상.
- 지역 이벤트: 특정 리전/바이옴 기반 상호 협력 목표.

## 세부 설계 (BitCraft 참고)

### 채팅/커뮤니케이션
- 채팅 채널은 권한 필터링을 거쳐 전송, 레이트 리미팅 적용.
- chat_cleanup_agent로 일정 기간 경과 메시지 정리(저장/노출 비용 관리).

### 클레임 멤버십
- 역할: Owner/CoOwner/Officer/Member 4단계.
- 권한: Build/Inventory/Usage 분리, 건물 상호작용 레벨과 조합.
- 타일/건물 상호작용은 PermissionState 계층 평가(엔티티 -> 인테리어 -> 클레임).
- OverrideNoAccess는 최우선 차단.

### 엠파이어 거버넌스
- Rank 기반 권한 벡터(공급/공격/승인/승격 등).
- 정착지(Settlement)와 노드(Node)로 영향력 확장.
- 공성(Siege) 상태는 공급/거리/권한 검증 후 시작.
- 엠파이어 노드: 청크 단위 영향력, 보급 소진 시 비활성.
- 공성은 공격/방어 보급 상태에 따라 진행.

### 신고/중재 운영
- UserModerationState 기반 임시/영구 제재.
- Identity Block 리스트로 서버 접속 차단.
- 신고 → 큐 → 운영 검토 → 제재/복구 단계 프로세스.
- 반복 위반 시 자동 제한(에스컬레이션 규칙).

### 소셜 데이터/지표
- 신고 처리율, 재범률, 채팅 제재율, 길드 활성 사용자 수.
- 이벤트 참여율, 파티/레이드 매칭 시간, 클레임/엠파이어 가입 전환율.
